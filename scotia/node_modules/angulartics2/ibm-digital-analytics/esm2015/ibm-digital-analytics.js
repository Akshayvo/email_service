/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Injectable } from '@angular/core';
import { Angulartics2 } from 'angulartics2';
export class Angulartics2IBMDigitalAnalytics {
    /**
     * @param {?} angulartics2
     */
    constructor(angulartics2) {
        this.angulartics2 = angulartics2;
        if (typeof window['cmCreatePageviewTag'] !== 'function') {
            console.warn('Angulartics 2 IBM Digital Analytics Plugin: eluminate.js is not loaded');
        }
        this.angulartics2.pageTrack
            .pipe(this.angulartics2.filterDeveloperMode())
            .subscribe((x) => this.pageTrack(x.path));
        this.angulartics2.eventTrack
            .pipe(this.angulartics2.filterDeveloperMode())
            .subscribe((x) => this.eventTrack(x.action, x.properties));
    }
    /**
     * Track Page in IBM Digital Analytics
     *
     * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_pageviewtag.html
     * @param {?} path location
     *
     * @return {?}
     */
    pageTrack(path) {
        const /** @type {?} */ cmCreatePageviewTag = window['cmCreatePageviewTag'];
        cmCreatePageviewTag(path, null, null, null);
    }
    /**
     * Track an event in IBM Digital Analytics
     *
     * @param {?} action A string corresponding to the type of event that needs to be tracked.
     * @param {?=} properties The properties that need to be logged with the event.
     * @return {?}
     */
    eventTrack(action, properties = {}) {
        const /** @type {?} */ cmDisplayShops = window['cmDisplayShops'];
        switch (action) {
            /**
                         * @description The Product View tag captures information about vdigitalDataiews of product detail pages.
                         *  The Product View tag should be called on the lowest level detail page for products, which is typically
                         *  the Product Details page. You can view example Product View tags below.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_prodviewtag.html
                         */
            case 'cmCreateProductviewTag':
                const /** @type {?} */ cmCreateProductviewTag = window['cmCreateProductviewTag'];
                cmCreateProductviewTag(properties.productId, properties.productName, properties.categoryId, properties.attrbute, properties.virtualCategory);
                break;
            /**
                         * @description The Shop Action 5 tag captures data about selected products and which products are present in a shopping cart,
                         *  if any, when the cart is viewed.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_shopact5tag.html
                         */
            case 'cmCreateShopAction5Tag':
                const /** @type {?} */ cmCreateShopAction5Tag = window['cmCreateShopAction5Tag'];
                cmCreateShopAction5Tag(properties.productId, properties.productName, properties.quantity, properties.unitPrice, properties.categoryId, properties.attrbute, properties.extraFields, properties.virtualCategory);
                cmDisplayShops();
                break;
            /**
                         * @description The Shop Action 9 tag captures data about what products were purchased by a customer.
                         *  Like the Shop Action 5 tag, one tag should be sent for each product line item purchased. These tags should be sent
                         *  on the receipt or other completion page confirming a successful order.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_shopact9tag.html
                         */
            case 'cmCreateShopAction9Tag':
                const /** @type {?} */ cmCreateShopAction9Tag = window['cmCreateShopAction9Tag'];
                cmCreateShopAction9Tag(properties.productId, properties.productName, properties.quantity, properties.unitPrice, properties.registrationId, properties.orderId, properties.orderSubtotal, properties.categoryId, properties.attrbute, properties.extraFields);
                cmDisplayShops();
                break;
            /**
                         * @description The Order tag captures order header information such as Registration ID, order ID, order subtotal,
                         *  and shipping and handling. The Order tag should be sent on the receipt page confirming order completion.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_ordertag.html
                         */
            case 'cmCreateOrderTag':
                const /** @type {?} */ cmCreateOrderTag = window['cmCreateOrderTag'];
                cmCreateOrderTag(properties.orderId, properties.orderSubtotal, properties.orderShipping, properties.registrationId, properties.registrantCity, properties.registrantState, properties.registrantPostalCode, properties.attrbute, properties.extraFields);
                break;
            /**
                         * @description The Registration tag creates a Lifetime Visitor Experience Profile (LIVE Profile) by associating a single
                         *  common Registration ID with the IBM® Digital Analytics permanent cookie set in every browser visiting the tagged site.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_registrationtag.html
                         */
            case 'cmCreateRegistrationTag':
                const /** @type {?} */ cmCreateRegistrationTag = window['cmCreateRegistrationTag'];
                cmCreateRegistrationTag(properties.registrationId, properties.registrantEmail, properties.registrantCity, properties.registrantState, properties.registrantPostalCode, properties.registrantCountry, properties.attrbute);
                break;
            /**
                         * @description The Element tag is used to track intra-page content in IBM® Digital Analytics. Data collected by
                         *  the Element tag is used to populate values in the Element Categories and Top Viewed Elements reports.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_elementtag.html
                         */
            case 'cmCreateElementTag':
                const /** @type {?} */ cmCreateElementTag = window['cmCreateElementTag'];
                cmCreateElementTag(properties.elementId, properties.elementCategory, properties.attrbute);
                break;
            /**
                         * @description The Conversion Event tag is employed for tracking of general non-commerce conversion events.
                         * The Conversion Event tag is used to populate values in the Conversion Events Reports and to create Key Segments.
                         * This tag and the reports it populates enable analysis of a wide variety of site activities.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_conversioneventtag.html
                         */
            case 'cmCreateConversionEventTag':
                const /** @type {?} */ cmCreateConversionEventTag = window['cmCreateConversionEventTag'];
                cmCreateConversionEventTag(properties.eventId, properties.actionType, properties.eventCategoryId, properties.points, properties.attrbute, properties.extraFields);
                break;
            default:
                console.warn('Unsupported Event Action');
        }
    }
}
Angulartics2IBMDigitalAnalytics.decorators = [
    { type: Injectable }
];
/** @nocollapse */
Angulartics2IBMDigitalAnalytics.ctorParameters = () => [
    { type: Angulartics2 }
];
function Angulartics2IBMDigitalAnalytics_tsickle_Closure_declarations() {
    /** @type {?} */
    Angulartics2IBMDigitalAnalytics.prototype.angulartics2;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWJtLWRpZ2l0YWwtYW5hbHl0aWNzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vYW5ndWxhcnRpY3MyL2libS1kaWdpdGFsLWFuYWx5dGljcy8iLCJzb3VyY2VzIjpbImlibS1kaWdpdGFsLWFuYWx5dGljcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRzVDLE1BQU07Ozs7SUFDRixZQUFvQixZQUEwQjtRQUExQixpQkFBWSxHQUFaLFlBQVksQ0FBYztRQUMxQyxFQUFFLENBQUMsQ0FBQyxPQUFPLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDdEQsT0FBTyxDQUFDLElBQUksQ0FBQyx3RUFBd0UsQ0FBQyxDQUFDO1NBQzFGO1FBRUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTO2FBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixFQUFFLENBQUM7YUFDN0MsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVTthQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO2FBQzdDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0tBQ2xFOzs7Ozs7Ozs7SUFTRCxTQUFTLENBQUMsSUFBWTtRQUNsQix1QkFBTSxtQkFBbUIsR0FBRyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUMxRCxtQkFBbUIsQ0FB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QUVGLEtBQUssQ0FBQzs7Ozs7Ozs7WUFTVixLQUFLLDRCQUE0QjtnQkFDN0IsdUJBQU0sMEJBQTBCLEdBQUcsTUFBTSxDQUFDLDRCQUE0QixDQUFDLENBQUM7Z0JBQ3hFLDBCQUEwQixDQUN0QixVQUFVLENBQUMsT0FBTyxFQUNsQixVQUFVLENBQUMsVUFBVSxFQUNyQixVQUFVLENBQUMsZUFBZSxFQUMxQixVQUFVLENBQUMsTUFBTSxFQUNqQixVQUFVLENBQUMsUUFBUSxFQUNuQixVQUFVLENBQUMsV0FBVyxDQUN6QixDQUFDO2dCQUVGLEtBQUssQ0FBQztZQUVWO2dCQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMsMEJBQTBCLENBQUMsQ0FBQztTQUNoRDtLQUNKOzs7WUF6TEosVUFBVTs7OztZQUZGLFlBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEFuZ3VsYXJ0aWNzMiB9IGZyb20gJ2FuZ3VsYXJ0aWNzMic7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBBbmd1bGFydGljczJJQk1EaWdpdGFsQW5hbHl0aWNzIHtcclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYW5ndWxhcnRpY3MyOiBBbmd1bGFydGljczIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvd1snY21DcmVhdGVQYWdldmlld1RhZyddICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQW5ndWxhcnRpY3MgMiBJQk0gRGlnaXRhbCBBbmFseXRpY3MgUGx1Z2luOiBlbHVtaW5hdGUuanMgaXMgbm90IGxvYWRlZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hbmd1bGFydGljczIucGFnZVRyYWNrXHJcbiAgICAgICAgICAgIC5waXBlKHRoaXMuYW5ndWxhcnRpY3MyLmZpbHRlckRldmVsb3Blck1vZGUoKSlcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgoeCkgPT4gdGhpcy5wYWdlVHJhY2soeC5wYXRoKSk7XHJcbiAgICAgICAgdGhpcy5hbmd1bGFydGljczIuZXZlbnRUcmFja1xyXG4gICAgICAgICAgICAucGlwZSh0aGlzLmFuZ3VsYXJ0aWNzMi5maWx0ZXJEZXZlbG9wZXJNb2RlKCkpXHJcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKHgpID0+IHRoaXMuZXZlbnRUcmFjayh4LmFjdGlvbiwgeC5wcm9wZXJ0aWVzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFjayBQYWdlIGluIElCTSBEaWdpdGFsIEFuYWx5dGljc1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwYXRoIGxvY2F0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGxpbmsgaHR0cHM6Ly93d3cuaWJtLmNvbS9zdXBwb3J0L2tub3dsZWRnZWNlbnRlci9TU1BHOU0vSW1wbGVtZW50YXRpb24vaW1wbF9wYWdldmlld3RhZy5odG1sXHJcbiAgICAgKi9cclxuICAgIHBhZ2VUcmFjayhwYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBjbUNyZWF0ZVBhZ2V2aWV3VGFnID0gd2luZG93WydjbUNyZWF0ZVBhZ2V2aWV3VGFnJ107XHJcbiAgICAgICAgY21DcmVhdGVQYWdldmlld1RhZyhwYXRoLCBudWxsLCBudWxsLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyYWNrIGFuIGV2ZW50IGluIElCTSBEaWdpdGFsIEFuYWx5dGljc1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhY3Rpb24gQSBzdHJpbmcgY29ycmVzcG9uZGluZyB0byB0aGUgdHlwZSBvZiBldmVudCB0aGF0IG5lZWRzIHRvIGJlIHRyYWNrZWQuXHJcbiAgICAgKiBAcGFyYW0gcHJvcGVydGllcyBUaGUgcHJvcGVydGllcyB0aGF0IG5lZWQgdG8gYmUgbG9nZ2VkIHdpdGggdGhlIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBldmVudFRyYWNrKGFjdGlvbjogc3RyaW5nLCBwcm9wZXJ0aWVzOiBhbnkgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IGNtRGlzcGxheVNob3BzID0gd2luZG93WydjbURpc3BsYXlTaG9wcyddO1xyXG4gICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gVGhlIFByb2R1Y3QgVmlldyB0YWcgY2FwdHVyZXMgaW5mb3JtYXRpb24gYWJvdXQgdmRpZ2l0YWxEYXRhaWV3cyBvZiBwcm9kdWN0IGRldGFpbCBwYWdlcy5cclxuICAgICAgICAgICAgICogIFRoZSBQcm9kdWN0IFZpZXcgdGFnIHNob3VsZCBiZSBjYWxsZWQgb24gdGhlIGxvd2VzdCBsZXZlbCBkZXRhaWwgcGFnZSBmb3IgcHJvZHVjdHMsIHdoaWNoIGlzIHR5cGljYWxseVxyXG4gICAgICAgICAgICAgKiAgdGhlIFByb2R1Y3QgRGV0YWlscyBwYWdlLiBZb3UgY2FuIHZpZXcgZXhhbXBsZSBQcm9kdWN0IFZpZXcgdGFncyBiZWxvdy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGxpbmsgaHR0cHM6Ly93d3cuaWJtLmNvbS9zdXBwb3J0L2tub3dsZWRnZWNlbnRlci9TU1BHOU0vSW1wbGVtZW50YXRpb24vaW1wbF9wcm9kdmlld3RhZy5odG1sXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjYXNlICdjbUNyZWF0ZVByb2R1Y3R2aWV3VGFnJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNtQ3JlYXRlUHJvZHVjdHZpZXdUYWcgPSB3aW5kb3dbJ2NtQ3JlYXRlUHJvZHVjdHZpZXdUYWcnXTtcclxuICAgICAgICAgICAgICAgIGNtQ3JlYXRlUHJvZHVjdHZpZXdUYWcoXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wcm9kdWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wcm9kdWN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmNhdGVnb3J5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5hdHRyYnV0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnZpcnR1YWxDYXRlZ29yeVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gVGhlIFNob3AgQWN0aW9uIDUgdGFnIGNhcHR1cmVzIGRhdGEgYWJvdXQgc2VsZWN0ZWQgcHJvZHVjdHMgYW5kIHdoaWNoIHByb2R1Y3RzIGFyZSBwcmVzZW50IGluIGEgc2hvcHBpbmcgY2FydCxcclxuICAgICAgICAgICAgICogIGlmIGFueSwgd2hlbiB0aGUgY2FydCBpcyB2aWV3ZWQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBsaW5rIGh0dHBzOi8vd3d3LmlibS5jb20vc3VwcG9ydC9rbm93bGVkZ2VjZW50ZXIvU1NQRzlNL0ltcGxlbWVudGF0aW9uL2ltcGxfc2hvcGFjdDV0YWcuaHRtbFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2FzZSAnY21DcmVhdGVTaG9wQWN0aW9uNVRhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZVNob3BBY3Rpb241VGFnID0gd2luZG93WydjbUNyZWF0ZVNob3BBY3Rpb241VGFnJ107XHJcbiAgICAgICAgICAgICAgICBjbUNyZWF0ZVNob3BBY3Rpb241VGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHJvZHVjdElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHJvZHVjdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5xdWFudGl0eSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnVuaXRQcmljZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmNhdGVnb3J5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5hdHRyYnV0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmV4dHJhRmllbGRzLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudmlydHVhbENhdGVnb3J5XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGNtRGlzcGxheVNob3BzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBTaG9wIEFjdGlvbiA5IHRhZyBjYXB0dXJlcyBkYXRhIGFib3V0IHdoYXQgcHJvZHVjdHMgd2VyZSBwdXJjaGFzZWQgYnkgYSBjdXN0b21lci5cclxuICAgICAgICAgICAgICogIExpa2UgdGhlIFNob3AgQWN0aW9uIDUgdGFnLCBvbmUgdGFnIHNob3VsZCBiZSBzZW50IGZvciBlYWNoIHByb2R1Y3QgbGluZSBpdGVtIHB1cmNoYXNlZC4gVGhlc2UgdGFncyBzaG91bGQgYmUgc2VudFxyXG4gICAgICAgICAgICAgKiAgb24gdGhlIHJlY2VpcHQgb3Igb3RoZXIgY29tcGxldGlvbiBwYWdlIGNvbmZpcm1pbmcgYSBzdWNjZXNzZnVsIG9yZGVyLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX3Nob3BhY3Q5dGFnLmh0bWxcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNhc2UgJ2NtQ3JlYXRlU2hvcEFjdGlvbjlUYWcnOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgY21DcmVhdGVTaG9wQWN0aW9uOVRhZyA9IHdpbmRvd1snY21DcmVhdGVTaG9wQWN0aW9uOVRhZyddO1xyXG4gICAgICAgICAgICAgICAgY21DcmVhdGVTaG9wQWN0aW9uOVRhZyhcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnByb2R1Y3RJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnByb2R1Y3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucXVhbnRpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy51bml0UHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYXRpb25JZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm9yZGVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5vcmRlclN1YnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuY2F0ZWdvcnlJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmF0dHJidXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZXh0cmFGaWVsZHNcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgY21EaXNwbGF5U2hvcHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gVGhlIE9yZGVyIHRhZyBjYXB0dXJlcyBvcmRlciBoZWFkZXIgaW5mb3JtYXRpb24gc3VjaCBhcyBSZWdpc3RyYXRpb24gSUQsIG9yZGVyIElELCBvcmRlciBzdWJ0b3RhbCxcclxuICAgICAgICAgICAgICogIGFuZCBzaGlwcGluZyBhbmQgaGFuZGxpbmcuIFRoZSBPcmRlciB0YWcgc2hvdWxkIGJlIHNlbnQgb24gdGhlIHJlY2VpcHQgcGFnZSBjb25maXJtaW5nIG9yZGVyIGNvbXBsZXRpb24uXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBsaW5rIGh0dHBzOi8vd3d3LmlibS5jb20vc3VwcG9ydC9rbm93bGVkZ2VjZW50ZXIvU1NQRzlNL0ltcGxlbWVudGF0aW9uL2ltcGxfb3JkZXJ0YWcuaHRtbFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2FzZSAnY21DcmVhdGVPcmRlclRhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZU9yZGVyVGFnID0gd2luZG93WydjbUNyZWF0ZU9yZGVyVGFnJ107XHJcbiAgICAgICAgICAgICAgICBjbUNyZWF0ZU9yZGVyVGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMub3JkZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm9yZGVyU3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5vcmRlclNoaXBwaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmF0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYW50Q2l0eSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhbnRTdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhbnRQb3N0YWxDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYXR0cmJ1dGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5leHRyYUZpZWxkc1xyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gVGhlIFJlZ2lzdHJhdGlvbiB0YWcgY3JlYXRlcyBhIExpZmV0aW1lIFZpc2l0b3IgRXhwZXJpZW5jZSBQcm9maWxlIChMSVZFIFByb2ZpbGUpIGJ5IGFzc29jaWF0aW5nIGEgc2luZ2xlXHJcbiAgICAgICAgICAgICAqICBjb21tb24gUmVnaXN0cmF0aW9uIElEIHdpdGggdGhlIElCTcKuIERpZ2l0YWwgQW5hbHl0aWNzIHBlcm1hbmVudCBjb29raWUgc2V0IGluIGV2ZXJ5IGJyb3dzZXIgdmlzaXRpbmcgdGhlIHRhZ2dlZCBzaXRlLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX3JlZ2lzdHJhdGlvbnRhZy5odG1sXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjYXNlICdjbUNyZWF0ZVJlZ2lzdHJhdGlvblRhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZVJlZ2lzdHJhdGlvblRhZyA9IHdpbmRvd1snY21DcmVhdGVSZWdpc3RyYXRpb25UYWcnXTtcclxuICAgICAgICAgICAgICAgIGNtQ3JlYXRlUmVnaXN0cmF0aW9uVGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmF0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYW50RW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYW50Q2l0eSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhbnRTdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhbnRQb3N0YWxDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmFudENvdW50cnksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5hdHRyYnV0ZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gVGhlIEVsZW1lbnQgdGFnIGlzIHVzZWQgdG8gdHJhY2sgaW50cmEtcGFnZSBjb250ZW50IGluIElCTcKuIERpZ2l0YWwgQW5hbHl0aWNzLiBEYXRhIGNvbGxlY3RlZCBieVxyXG4gICAgICAgICAgICAgKiAgdGhlIEVsZW1lbnQgdGFnIGlzIHVzZWQgdG8gcG9wdWxhdGUgdmFsdWVzIGluIHRoZSBFbGVtZW50IENhdGVnb3JpZXMgYW5kIFRvcCBWaWV3ZWQgRWxlbWVudHMgcmVwb3J0cy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGxpbmsgaHR0cHM6Ly93d3cuaWJtLmNvbS9zdXBwb3J0L2tub3dsZWRnZWNlbnRlci9TU1BHOU0vSW1wbGVtZW50YXRpb24vaW1wbF9lbGVtZW50dGFnLmh0bWxcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNhc2UgJ2NtQ3JlYXRlRWxlbWVudFRhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZUVsZW1lbnRUYWcgPSB3aW5kb3dbJ2NtQ3JlYXRlRWxlbWVudFRhZyddO1xyXG4gICAgICAgICAgICAgICAgY21DcmVhdGVFbGVtZW50VGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZWxlbWVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZWxlbWVudENhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYXR0cmJ1dGVcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBDb252ZXJzaW9uIEV2ZW50IHRhZyBpcyBlbXBsb3llZCBmb3IgdHJhY2tpbmcgb2YgZ2VuZXJhbCBub24tY29tbWVyY2UgY29udmVyc2lvbiBldmVudHMuXHJcbiAgICAgICAgICAgICAqIFRoZSBDb252ZXJzaW9uIEV2ZW50IHRhZyBpcyB1c2VkIHRvIHBvcHVsYXRlIHZhbHVlcyBpbiB0aGUgQ29udmVyc2lvbiBFdmVudHMgUmVwb3J0cyBhbmQgdG8gY3JlYXRlIEtleSBTZWdtZW50cy5cclxuICAgICAgICAgICAgICogVGhpcyB0YWcgYW5kIHRoZSByZXBvcnRzIGl0IHBvcHVsYXRlcyBlbmFibGUgYW5hbHlzaXMgb2YgYSB3aWRlIHZhcmlldHkgb2Ygc2l0ZSBhY3Rpdml0aWVzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX2NvbnZlcnNpb25ldmVudHRhZy5odG1sXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjYXNlICdjbUNyZWF0ZUNvbnZlcnNpb25FdmVudFRhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZUNvbnZlcnNpb25FdmVudFRhZyA9IHdpbmRvd1snY21DcmVhdGVDb252ZXJzaW9uRXZlbnRUYWcnXTtcclxuICAgICAgICAgICAgICAgIGNtQ3JlYXRlQ29udmVyc2lvbkV2ZW50VGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZXZlbnRJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmFjdGlvblR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5ldmVudENhdGVnb3J5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wb2ludHMsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5hdHRyYnV0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmV4dHJhRmllbGRzXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgRXZlbnQgQWN0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==