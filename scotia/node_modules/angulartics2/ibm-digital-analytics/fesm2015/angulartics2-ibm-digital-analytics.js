import { Injectable } from '@angular/core';
import { Angulartics2 } from 'angulartics2';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class Angulartics2IBMDigitalAnalytics {
    /**
     * @param {?} angulartics2
     */
    constructor(angulartics2) {
        this.angulartics2 = angulartics2;
        if (typeof window['cmCreatePageviewTag'] !== 'function') {
            console.warn('Angulartics 2 IBM Digital Analytics Plugin: eluminate.js is not loaded');
        }
        this.angulartics2.pageTrack
            .pipe(this.angulartics2.filterDeveloperMode())
            .subscribe((x) => this.pageTrack(x.path));
        this.angulartics2.eventTrack
            .pipe(this.angulartics2.filterDeveloperMode())
            .subscribe((x) => this.eventTrack(x.action, x.properties));
    }
    /**
     * Track Page in IBM Digital Analytics
     *
     * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_pageviewtag.html
     * @param {?} path location
     *
     * @return {?}
     */
    pageTrack(path) {
        const /** @type {?} */ cmCreatePageviewTag = window['cmCreatePageviewTag'];
        cmCreatePageviewTag(path, null, null, null);
    }
    /**
     * Track an event in IBM Digital Analytics
     *
     * @param {?} action A string corresponding to the type of event that needs to be tracked.
     * @param {?=} properties The properties that need to be logged with the event.
     * @return {?}
     */
    eventTrack(action, properties = {}) {
        const /** @type {?} */ cmDisplayShops = window['cmDisplayShops'];
        switch (action) {
            /**
                         * @description The Product View tag captures information about vdigitalDataiews of product detail pages.
                         *  The Product View tag should be called on the lowest level detail page for products, which is typically
                         *  the Product Details page. You can view example Product View tags below.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_prodviewtag.html
                         */
            case 'cmCreateProductviewTag':
                const /** @type {?} */ cmCreateProductviewTag = window['cmCreateProductviewTag'];
                cmCreateProductviewTag(properties.productId, properties.productName, properties.categoryId, properties.attrbute, properties.virtualCategory);
                break;
            /**
                         * @description The Shop Action 5 tag captures data about selected products and which products are present in a shopping cart,
                         *  if any, when the cart is viewed.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_shopact5tag.html
                         */
            case 'cmCreateShopAction5Tag':
                const /** @type {?} */ cmCreateShopAction5Tag = window['cmCreateShopAction5Tag'];
                cmCreateShopAction5Tag(properties.productId, properties.productName, properties.quantity, properties.unitPrice, properties.categoryId, properties.attrbute, properties.extraFields, properties.virtualCategory);
                cmDisplayShops();
                break;
            /**
                         * @description The Shop Action 9 tag captures data about what products were purchased by a customer.
                         *  Like the Shop Action 5 tag, one tag should be sent for each product line item purchased. These tags should be sent
                         *  on the receipt or other completion page confirming a successful order.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_shopact9tag.html
                         */
            case 'cmCreateShopAction9Tag':
                const /** @type {?} */ cmCreateShopAction9Tag = window['cmCreateShopAction9Tag'];
                cmCreateShopAction9Tag(properties.productId, properties.productName, properties.quantity, properties.unitPrice, properties.registrationId, properties.orderId, properties.orderSubtotal, properties.categoryId, properties.attrbute, properties.extraFields);
                cmDisplayShops();
                break;
            /**
                         * @description The Order tag captures order header information such as Registration ID, order ID, order subtotal,
                         *  and shipping and handling. The Order tag should be sent on the receipt page confirming order completion.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_ordertag.html
                         */
            case 'cmCreateOrderTag':
                const /** @type {?} */ cmCreateOrderTag = window['cmCreateOrderTag'];
                cmCreateOrderTag(properties.orderId, properties.orderSubtotal, properties.orderShipping, properties.registrationId, properties.registrantCity, properties.registrantState, properties.registrantPostalCode, properties.attrbute, properties.extraFields);
                break;
            /**
                         * @description The Registration tag creates a Lifetime Visitor Experience Profile (LIVE Profile) by associating a single
                         *  common Registration ID with the IBM® Digital Analytics permanent cookie set in every browser visiting the tagged site.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_registrationtag.html
                         */
            case 'cmCreateRegistrationTag':
                const /** @type {?} */ cmCreateRegistrationTag = window['cmCreateRegistrationTag'];
                cmCreateRegistrationTag(properties.registrationId, properties.registrantEmail, properties.registrantCity, properties.registrantState, properties.registrantPostalCode, properties.registrantCountry, properties.attrbute);
                break;
            /**
                         * @description The Element tag is used to track intra-page content in IBM® Digital Analytics. Data collected by
                         *  the Element tag is used to populate values in the Element Categories and Top Viewed Elements reports.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_elementtag.html
                         */
            case 'cmCreateElementTag':
                const /** @type {?} */ cmCreateElementTag = window['cmCreateElementTag'];
                cmCreateElementTag(properties.elementId, properties.elementCategory, properties.attrbute);
                break;
            /**
                         * @description The Conversion Event tag is employed for tracking of general non-commerce conversion events.
                         * The Conversion Event tag is used to populate values in the Conversion Events Reports and to create Key Segments.
                         * This tag and the reports it populates enable analysis of a wide variety of site activities.
                         *
                         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_conversioneventtag.html
                         */
            case 'cmCreateConversionEventTag':
                const /** @type {?} */ cmCreateConversionEventTag = window['cmCreateConversionEventTag'];
                cmCreateConversionEventTag(properties.eventId, properties.actionType, properties.eventCategoryId, properties.points, properties.attrbute, properties.extraFields);
                break;
            default:
                console.warn('Unsupported Event Action');
        }
    }
}
Angulartics2IBMDigitalAnalytics.decorators = [
    { type: Injectable }
];
/** @nocollapse */
Angulartics2IBMDigitalAnalytics.ctorParameters = () => [
    { type: Angulartics2 }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { Angulartics2IBMDigitalAnalytics };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcnRpY3MyLWlibS1kaWdpdGFsLWFuYWx5dGljcy5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vYW5ndWxhcnRpY3MyL2libS1kaWdpdGFsLWFuYWx5dGljcy9pYm0tZGlnaXRhbC1hbmFseXRpY3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBBbmd1bGFydGljczIgfSBmcm9tICdhbmd1bGFydGljczInO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgQW5ndWxhcnRpY3MySUJNRGlnaXRhbEFuYWx5dGljcyB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFuZ3VsYXJ0aWNzMjogQW5ndWxhcnRpY3MyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3dbJ2NtQ3JlYXRlUGFnZXZpZXdUYWcnXSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0FuZ3VsYXJ0aWNzIDIgSUJNIERpZ2l0YWwgQW5hbHl0aWNzIFBsdWdpbjogZWx1bWluYXRlLmpzIGlzIG5vdCBsb2FkZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYW5ndWxhcnRpY3MyLnBhZ2VUcmFja1xyXG4gICAgICAgICAgICAucGlwZSh0aGlzLmFuZ3VsYXJ0aWNzMi5maWx0ZXJEZXZlbG9wZXJNb2RlKCkpXHJcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKHgpID0+IHRoaXMucGFnZVRyYWNrKHgucGF0aCkpO1xyXG4gICAgICAgIHRoaXMuYW5ndWxhcnRpY3MyLmV2ZW50VHJhY2tcclxuICAgICAgICAgICAgLnBpcGUodGhpcy5hbmd1bGFydGljczIuZmlsdGVyRGV2ZWxvcGVyTW9kZSgpKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCh4KSA9PiB0aGlzLmV2ZW50VHJhY2soeC5hY3Rpb24sIHgucHJvcGVydGllcykpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJhY2sgUGFnZSBpbiBJQk0gRGlnaXRhbCBBbmFseXRpY3NcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGF0aCBsb2NhdGlvblxyXG4gICAgICpcclxuICAgICAqIEBsaW5rIGh0dHBzOi8vd3d3LmlibS5jb20vc3VwcG9ydC9rbm93bGVkZ2VjZW50ZXIvU1NQRzlNL0ltcGxlbWVudGF0aW9uL2ltcGxfcGFnZXZpZXd0YWcuaHRtbFxyXG4gICAgICovXHJcbiAgICBwYWdlVHJhY2socGF0aDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgY21DcmVhdGVQYWdldmlld1RhZyA9IHdpbmRvd1snY21DcmVhdGVQYWdldmlld1RhZyddO1xyXG4gICAgICAgIGNtQ3JlYXRlUGFnZXZpZXdUYWcocGF0aCwgbnVsbCwgbnVsbCwgbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFjayBhbiBldmVudCBpbiBJQk0gRGlnaXRhbCBBbmFseXRpY3NcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYWN0aW9uIEEgc3RyaW5nIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHR5cGUgb2YgZXZlbnQgdGhhdCBuZWVkcyB0byBiZSB0cmFja2VkLlxyXG4gICAgICogQHBhcmFtIHByb3BlcnRpZXMgVGhlIHByb3BlcnRpZXMgdGhhdCBuZWVkIHRvIGJlIGxvZ2dlZCB3aXRoIHRoZSBldmVudC5cclxuICAgICAqL1xyXG4gICAgZXZlbnRUcmFjayhhY3Rpb246IHN0cmluZywgcHJvcGVydGllczogYW55ID0ge30pIHtcclxuICAgICAgICBjb25zdCBjbURpc3BsYXlTaG9wcyA9IHdpbmRvd1snY21EaXNwbGF5U2hvcHMnXTtcclxuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBQcm9kdWN0IFZpZXcgdGFnIGNhcHR1cmVzIGluZm9ybWF0aW9uIGFib3V0IHZkaWdpdGFsRGF0YWlld3Mgb2YgcHJvZHVjdCBkZXRhaWwgcGFnZXMuXHJcbiAgICAgICAgICAgICAqICBUaGUgUHJvZHVjdCBWaWV3IHRhZyBzaG91bGQgYmUgY2FsbGVkIG9uIHRoZSBsb3dlc3QgbGV2ZWwgZGV0YWlsIHBhZ2UgZm9yIHByb2R1Y3RzLCB3aGljaCBpcyB0eXBpY2FsbHlcclxuICAgICAgICAgICAgICogIHRoZSBQcm9kdWN0IERldGFpbHMgcGFnZS4gWW91IGNhbiB2aWV3IGV4YW1wbGUgUHJvZHVjdCBWaWV3IHRhZ3MgYmVsb3cuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBsaW5rIGh0dHBzOi8vd3d3LmlibS5jb20vc3VwcG9ydC9rbm93bGVkZ2VjZW50ZXIvU1NQRzlNL0ltcGxlbWVudGF0aW9uL2ltcGxfcHJvZHZpZXd0YWcuaHRtbFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2FzZSAnY21DcmVhdGVQcm9kdWN0dmlld1RhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZVByb2R1Y3R2aWV3VGFnID0gd2luZG93WydjbUNyZWF0ZVByb2R1Y3R2aWV3VGFnJ107XHJcbiAgICAgICAgICAgICAgICBjbUNyZWF0ZVByb2R1Y3R2aWV3VGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHJvZHVjdElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHJvZHVjdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5jYXRlZ29yeUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYXR0cmJ1dGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy52aXJ0dWFsQ2F0ZWdvcnlcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBTaG9wIEFjdGlvbiA1IHRhZyBjYXB0dXJlcyBkYXRhIGFib3V0IHNlbGVjdGVkIHByb2R1Y3RzIGFuZCB3aGljaCBwcm9kdWN0cyBhcmUgcHJlc2VudCBpbiBhIHNob3BwaW5nIGNhcnQsXHJcbiAgICAgICAgICAgICAqICBpZiBhbnksIHdoZW4gdGhlIGNhcnQgaXMgdmlld2VkLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX3Nob3BhY3Q1dGFnLmh0bWxcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNhc2UgJ2NtQ3JlYXRlU2hvcEFjdGlvbjVUYWcnOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgY21DcmVhdGVTaG9wQWN0aW9uNVRhZyA9IHdpbmRvd1snY21DcmVhdGVTaG9wQWN0aW9uNVRhZyddO1xyXG4gICAgICAgICAgICAgICAgY21DcmVhdGVTaG9wQWN0aW9uNVRhZyhcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnByb2R1Y3RJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnByb2R1Y3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucXVhbnRpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy51bml0UHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5jYXRlZ29yeUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYXR0cmJ1dGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5leHRyYUZpZWxkcyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnZpcnR1YWxDYXRlZ29yeVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjbURpc3BsYXlTaG9wcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgU2hvcCBBY3Rpb24gOSB0YWcgY2FwdHVyZXMgZGF0YSBhYm91dCB3aGF0IHByb2R1Y3RzIHdlcmUgcHVyY2hhc2VkIGJ5IGEgY3VzdG9tZXIuXHJcbiAgICAgICAgICAgICAqICBMaWtlIHRoZSBTaG9wIEFjdGlvbiA1IHRhZywgb25lIHRhZyBzaG91bGQgYmUgc2VudCBmb3IgZWFjaCBwcm9kdWN0IGxpbmUgaXRlbSBwdXJjaGFzZWQuIFRoZXNlIHRhZ3Mgc2hvdWxkIGJlIHNlbnRcclxuICAgICAgICAgICAgICogIG9uIHRoZSByZWNlaXB0IG9yIG90aGVyIGNvbXBsZXRpb24gcGFnZSBjb25maXJtaW5nIGEgc3VjY2Vzc2Z1bCBvcmRlci5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGxpbmsgaHR0cHM6Ly93d3cuaWJtLmNvbS9zdXBwb3J0L2tub3dsZWRnZWNlbnRlci9TU1BHOU0vSW1wbGVtZW50YXRpb24vaW1wbF9zaG9wYWN0OXRhZy5odG1sXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjYXNlICdjbUNyZWF0ZVNob3BBY3Rpb245VGFnJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNtQ3JlYXRlU2hvcEFjdGlvbjlUYWcgPSB3aW5kb3dbJ2NtQ3JlYXRlU2hvcEFjdGlvbjlUYWcnXTtcclxuICAgICAgICAgICAgICAgIGNtQ3JlYXRlU2hvcEFjdGlvbjlUYWcoXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wcm9kdWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wcm9kdWN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnF1YW50aXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudW5pdFByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmF0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5vcmRlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMub3JkZXJTdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmNhdGVnb3J5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5hdHRyYnV0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmV4dHJhRmllbGRzXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGNtRGlzcGxheVNob3BzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBPcmRlciB0YWcgY2FwdHVyZXMgb3JkZXIgaGVhZGVyIGluZm9ybWF0aW9uIHN1Y2ggYXMgUmVnaXN0cmF0aW9uIElELCBvcmRlciBJRCwgb3JkZXIgc3VidG90YWwsXHJcbiAgICAgICAgICAgICAqICBhbmQgc2hpcHBpbmcgYW5kIGhhbmRsaW5nLiBUaGUgT3JkZXIgdGFnIHNob3VsZCBiZSBzZW50IG9uIHRoZSByZWNlaXB0IHBhZ2UgY29uZmlybWluZyBvcmRlciBjb21wbGV0aW9uLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX29yZGVydGFnLmh0bWxcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNhc2UgJ2NtQ3JlYXRlT3JkZXJUYWcnOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgY21DcmVhdGVPcmRlclRhZyA9IHdpbmRvd1snY21DcmVhdGVPcmRlclRhZyddO1xyXG4gICAgICAgICAgICAgICAgY21DcmVhdGVPcmRlclRhZyhcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm9yZGVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5vcmRlclN1YnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMub3JkZXJTaGlwcGluZyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmFudENpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYW50U3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYW50UG9zdGFsQ29kZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmF0dHJidXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZXh0cmFGaWVsZHNcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBSZWdpc3RyYXRpb24gdGFnIGNyZWF0ZXMgYSBMaWZldGltZSBWaXNpdG9yIEV4cGVyaWVuY2UgUHJvZmlsZSAoTElWRSBQcm9maWxlKSBieSBhc3NvY2lhdGluZyBhIHNpbmdsZVxyXG4gICAgICAgICAgICAgKiAgY29tbW9uIFJlZ2lzdHJhdGlvbiBJRCB3aXRoIHRoZSBJQk3DgsKuIERpZ2l0YWwgQW5hbHl0aWNzIHBlcm1hbmVudCBjb29raWUgc2V0IGluIGV2ZXJ5IGJyb3dzZXIgdmlzaXRpbmcgdGhlIHRhZ2dlZCBzaXRlLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX3JlZ2lzdHJhdGlvbnRhZy5odG1sXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjYXNlICdjbUNyZWF0ZVJlZ2lzdHJhdGlvblRhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZVJlZ2lzdHJhdGlvblRhZyA9IHdpbmRvd1snY21DcmVhdGVSZWdpc3RyYXRpb25UYWcnXTtcclxuICAgICAgICAgICAgICAgIGNtQ3JlYXRlUmVnaXN0cmF0aW9uVGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmF0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYW50RW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYW50Q2l0eSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhbnRTdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhbnRQb3N0YWxDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmFudENvdW50cnksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5hdHRyYnV0ZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gVGhlIEVsZW1lbnQgdGFnIGlzIHVzZWQgdG8gdHJhY2sgaW50cmEtcGFnZSBjb250ZW50IGluIElCTcOCwq4gRGlnaXRhbCBBbmFseXRpY3MuIERhdGEgY29sbGVjdGVkIGJ5XHJcbiAgICAgICAgICAgICAqICB0aGUgRWxlbWVudCB0YWcgaXMgdXNlZCB0byBwb3B1bGF0ZSB2YWx1ZXMgaW4gdGhlIEVsZW1lbnQgQ2F0ZWdvcmllcyBhbmQgVG9wIFZpZXdlZCBFbGVtZW50cyByZXBvcnRzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX2VsZW1lbnR0YWcuaHRtbFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2FzZSAnY21DcmVhdGVFbGVtZW50VGFnJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNtQ3JlYXRlRWxlbWVudFRhZyA9IHdpbmRvd1snY21DcmVhdGVFbGVtZW50VGFnJ107XHJcbiAgICAgICAgICAgICAgICBjbUNyZWF0ZUVsZW1lbnRUYWcoXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5lbGVtZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5lbGVtZW50Q2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5hdHRyYnV0ZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gVGhlIENvbnZlcnNpb24gRXZlbnQgdGFnIGlzIGVtcGxveWVkIGZvciB0cmFja2luZyBvZiBnZW5lcmFsIG5vbi1jb21tZXJjZSBjb252ZXJzaW9uIGV2ZW50cy5cclxuICAgICAgICAgICAgICogVGhlIENvbnZlcnNpb24gRXZlbnQgdGFnIGlzIHVzZWQgdG8gcG9wdWxhdGUgdmFsdWVzIGluIHRoZSBDb252ZXJzaW9uIEV2ZW50cyBSZXBvcnRzIGFuZCB0byBjcmVhdGUgS2V5IFNlZ21lbnRzLlxyXG4gICAgICAgICAgICAgKiBUaGlzIHRhZyBhbmQgdGhlIHJlcG9ydHMgaXQgcG9wdWxhdGVzIGVuYWJsZSBhbmFseXNpcyBvZiBhIHdpZGUgdmFyaWV0eSBvZiBzaXRlIGFjdGl2aXRpZXMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBsaW5rIGh0dHBzOi8vd3d3LmlibS5jb20vc3VwcG9ydC9rbm93bGVkZ2VjZW50ZXIvU1NQRzlNL0ltcGxlbWVudGF0aW9uL2ltcGxfY29udmVyc2lvbmV2ZW50dGFnLmh0bWxcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNhc2UgJ2NtQ3JlYXRlQ29udmVyc2lvbkV2ZW50VGFnJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNtQ3JlYXRlQ29udmVyc2lvbkV2ZW50VGFnID0gd2luZG93WydjbUNyZWF0ZUNvbnZlcnNpb25FdmVudFRhZyddO1xyXG4gICAgICAgICAgICAgICAgY21DcmVhdGVDb252ZXJzaW9uRXZlbnRUYWcoXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5ldmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYWN0aW9uVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmV2ZW50Q2F0ZWdvcnlJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnBvaW50cyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmF0dHJidXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZXh0cmFGaWVsZHNcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBFdmVudCBBY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFB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