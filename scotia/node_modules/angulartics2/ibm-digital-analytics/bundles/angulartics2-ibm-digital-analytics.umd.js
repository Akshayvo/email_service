(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('angulartics2')) :
    typeof define === 'function' && define.amd ? define('angulartics2/ibm-digital-analytics', ['exports', '@angular/core', 'angulartics2'], factory) :
    (factory((global.angulartics2 = global.angulartics2 || {}, global.angulartics2['ibm-digital-analytics'] = {}),global.ng.core,global.angulartics2));
}(this, (function (exports,core,angulartics2) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var Angulartics2IBMDigitalAnalytics = (function () {
        function Angulartics2IBMDigitalAnalytics(angulartics2$$1) {
            var _this = this;
            this.angulartics2 = angulartics2$$1;
            if (typeof window['cmCreatePageviewTag'] !== 'function') {
                console.warn('Angulartics 2 IBM Digital Analytics Plugin: eluminate.js is not loaded');
            }
            this.angulartics2.pageTrack
                .pipe(this.angulartics2.filterDeveloperMode())
                .subscribe(function (x) { return _this.pageTrack(x.path); });
            this.angulartics2.eventTrack
                .pipe(this.angulartics2.filterDeveloperMode())
                .subscribe(function (x) { return _this.eventTrack(x.action, x.properties); });
        }
        /**
         * Track Page in IBM Digital Analytics
         *
         * @param path location
         *
         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_pageviewtag.html
         */
        /**
         * Track Page in IBM Digital Analytics
         *
         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_pageviewtag.html
         * @param {?} path location
         *
         * @return {?}
         */
        Angulartics2IBMDigitalAnalytics.prototype.pageTrack = /**
         * Track Page in IBM Digital Analytics
         *
         * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_pageviewtag.html
         * @param {?} path location
         *
         * @return {?}
         */
            function (path) {
                var /** @type {?} */ cmCreatePageviewTag = window['cmCreatePageviewTag'];
                cmCreatePageviewTag(path, null, null, null);
            };
        /**
         * Track an event in IBM Digital Analytics
         *
         * @param action A string corresponding to the type of event that needs to be tracked.
         * @param properties The properties that need to be logged with the event.
         */
        /**
         * Track an event in IBM Digital Analytics
         *
         * @param {?} action A string corresponding to the type of event that needs to be tracked.
         * @param {?=} properties The properties that need to be logged with the event.
         * @return {?}
         */
        Angulartics2IBMDigitalAnalytics.prototype.eventTrack = /**
         * Track an event in IBM Digital Analytics
         *
         * @param {?} action A string corresponding to the type of event that needs to be tracked.
         * @param {?=} properties The properties that need to be logged with the event.
         * @return {?}
         */
            function (action, properties) {
                if (properties === void 0) {
                    properties = {};
                }
                var /** @type {?} */ cmDisplayShops = window['cmDisplayShops'];
                switch (action) {
                    /**
                                 * @description The Product View tag captures information about vdigitalDataiews of product detail pages.
                                 *  The Product View tag should be called on the lowest level detail page for products, which is typically
                                 *  the Product Details page. You can view example Product View tags below.
                                 *
                                 * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_prodviewtag.html
                                 */
                    case 'cmCreateProductviewTag':
                        var /** @type {?} */ cmCreateProductviewTag = window['cmCreateProductviewTag'];
                        cmCreateProductviewTag(properties.productId, properties.productName, properties.categoryId, properties.attrbute, properties.virtualCategory);
                        break;
                    /**
                                 * @description The Shop Action 5 tag captures data about selected products and which products are present in a shopping cart,
                                 *  if any, when the cart is viewed.
                                 *
                                 * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_shopact5tag.html
                                 */
                    case 'cmCreateShopAction5Tag':
                        var /** @type {?} */ cmCreateShopAction5Tag = window['cmCreateShopAction5Tag'];
                        cmCreateShopAction5Tag(properties.productId, properties.productName, properties.quantity, properties.unitPrice, properties.categoryId, properties.attrbute, properties.extraFields, properties.virtualCategory);
                        cmDisplayShops();
                        break;
                    /**
                                 * @description The Shop Action 9 tag captures data about what products were purchased by a customer.
                                 *  Like the Shop Action 5 tag, one tag should be sent for each product line item purchased. These tags should be sent
                                 *  on the receipt or other completion page confirming a successful order.
                                 *
                                 * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_shopact9tag.html
                                 */
                    case 'cmCreateShopAction9Tag':
                        var /** @type {?} */ cmCreateShopAction9Tag = window['cmCreateShopAction9Tag'];
                        cmCreateShopAction9Tag(properties.productId, properties.productName, properties.quantity, properties.unitPrice, properties.registrationId, properties.orderId, properties.orderSubtotal, properties.categoryId, properties.attrbute, properties.extraFields);
                        cmDisplayShops();
                        break;
                    /**
                                 * @description The Order tag captures order header information such as Registration ID, order ID, order subtotal,
                                 *  and shipping and handling. The Order tag should be sent on the receipt page confirming order completion.
                                 *
                                 * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_ordertag.html
                                 */
                    case 'cmCreateOrderTag':
                        var /** @type {?} */ cmCreateOrderTag = window['cmCreateOrderTag'];
                        cmCreateOrderTag(properties.orderId, properties.orderSubtotal, properties.orderShipping, properties.registrationId, properties.registrantCity, properties.registrantState, properties.registrantPostalCode, properties.attrbute, properties.extraFields);
                        break;
                    /**
                                 * @description The Registration tag creates a Lifetime Visitor Experience Profile (LIVE Profile) by associating a single
                                 *  common Registration ID with the IBM® Digital Analytics permanent cookie set in every browser visiting the tagged site.
                                 *
                                 * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_registrationtag.html
                                 */
                    case 'cmCreateRegistrationTag':
                        var /** @type {?} */ cmCreateRegistrationTag = window['cmCreateRegistrationTag'];
                        cmCreateRegistrationTag(properties.registrationId, properties.registrantEmail, properties.registrantCity, properties.registrantState, properties.registrantPostalCode, properties.registrantCountry, properties.attrbute);
                        break;
                    /**
                                 * @description The Element tag is used to track intra-page content in IBM® Digital Analytics. Data collected by
                                 *  the Element tag is used to populate values in the Element Categories and Top Viewed Elements reports.
                                 *
                                 * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_elementtag.html
                                 */
                    case 'cmCreateElementTag':
                        var /** @type {?} */ cmCreateElementTag = window['cmCreateElementTag'];
                        cmCreateElementTag(properties.elementId, properties.elementCategory, properties.attrbute);
                        break;
                    /**
                                 * @description The Conversion Event tag is employed for tracking of general non-commerce conversion events.
                                 * The Conversion Event tag is used to populate values in the Conversion Events Reports and to create Key Segments.
                                 * This tag and the reports it populates enable analysis of a wide variety of site activities.
                                 *
                                 * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_conversioneventtag.html
                                 */
                    case 'cmCreateConversionEventTag':
                        var /** @type {?} */ cmCreateConversionEventTag = window['cmCreateConversionEventTag'];
                        cmCreateConversionEventTag(properties.eventId, properties.actionType, properties.eventCategoryId, properties.points, properties.attrbute, properties.extraFields);
                        break;
                    default:
                        console.warn('Unsupported Event Action');
                }
            };
        Angulartics2IBMDigitalAnalytics.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        Angulartics2IBMDigitalAnalytics.ctorParameters = function () {
            return [
                { type: angulartics2.Angulartics2 }
            ];
        };
        return Angulartics2IBMDigitalAnalytics;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.Angulartics2IBMDigitalAnalytics = Angulartics2IBMDigitalAnalytics;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcnRpY3MyLWlibS1kaWdpdGFsLWFuYWx5dGljcy51bWQuanMubWFwIiwic291cmNlcyI6WyJuZzovL2FuZ3VsYXJ0aWNzMi9pYm0tZGlnaXRhbC1hbmFseXRpY3MvaWJtLWRpZ2l0YWwtYW5hbHl0aWNzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQW5ndWxhcnRpY3MyIH0gZnJvbSAnYW5ndWxhcnRpY3MyJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJ0aWNzMklCTURpZ2l0YWxBbmFseXRpY3Mge1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhbmd1bGFydGljczI6IEFuZ3VsYXJ0aWNzMikge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93WydjbUNyZWF0ZVBhZ2V2aWV3VGFnJ10gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBbmd1bGFydGljcyAyIElCTSBEaWdpdGFsIEFuYWx5dGljcyBQbHVnaW46IGVsdW1pbmF0ZS5qcyBpcyBub3QgbG9hZGVkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFuZ3VsYXJ0aWNzMi5wYWdlVHJhY2tcclxuICAgICAgICAgICAgLnBpcGUodGhpcy5hbmd1bGFydGljczIuZmlsdGVyRGV2ZWxvcGVyTW9kZSgpKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCh4KSA9PiB0aGlzLnBhZ2VUcmFjayh4LnBhdGgpKTtcclxuICAgICAgICB0aGlzLmFuZ3VsYXJ0aWNzMi5ldmVudFRyYWNrXHJcbiAgICAgICAgICAgIC5waXBlKHRoaXMuYW5ndWxhcnRpY3MyLmZpbHRlckRldmVsb3Blck1vZGUoKSlcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgoeCkgPT4gdGhpcy5ldmVudFRyYWNrKHguYWN0aW9uLCB4LnByb3BlcnRpZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyYWNrIFBhZ2UgaW4gSUJNIERpZ2l0YWwgQW5hbHl0aWNzXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBhdGggbG9jYXRpb25cclxuICAgICAqXHJcbiAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX3BhZ2V2aWV3dGFnLmh0bWxcclxuICAgICAqL1xyXG4gICAgcGFnZVRyYWNrKHBhdGg6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGNtQ3JlYXRlUGFnZXZpZXdUYWcgPSB3aW5kb3dbJ2NtQ3JlYXRlUGFnZXZpZXdUYWcnXTtcclxuICAgICAgICBjbUNyZWF0ZVBhZ2V2aWV3VGFnKHBhdGgsIG51bGwsIG51bGwsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJhY2sgYW4gZXZlbnQgaW4gSUJNIERpZ2l0YWwgQW5hbHl0aWNzXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFjdGlvbiBBIHN0cmluZyBjb3JyZXNwb25kaW5nIHRvIHRoZSB0eXBlIG9mIGV2ZW50IHRoYXQgbmVlZHMgdG8gYmUgdHJhY2tlZC5cclxuICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzIFRoZSBwcm9wZXJ0aWVzIHRoYXQgbmVlZCB0byBiZSBsb2dnZWQgd2l0aCB0aGUgZXZlbnQuXHJcbiAgICAgKi9cclxuICAgIGV2ZW50VHJhY2soYWN0aW9uOiBzdHJpbmcsIHByb3BlcnRpZXM6IGFueSA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgY21EaXNwbGF5U2hvcHMgPSB3aW5kb3dbJ2NtRGlzcGxheVNob3BzJ107XHJcbiAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgUHJvZHVjdCBWaWV3IHRhZyBjYXB0dXJlcyBpbmZvcm1hdGlvbiBhYm91dCB2ZGlnaXRhbERhdGFpZXdzIG9mIHByb2R1Y3QgZGV0YWlsIHBhZ2VzLlxyXG4gICAgICAgICAgICAgKiAgVGhlIFByb2R1Y3QgVmlldyB0YWcgc2hvdWxkIGJlIGNhbGxlZCBvbiB0aGUgbG93ZXN0IGxldmVsIGRldGFpbCBwYWdlIGZvciBwcm9kdWN0cywgd2hpY2ggaXMgdHlwaWNhbGx5XHJcbiAgICAgICAgICAgICAqICB0aGUgUHJvZHVjdCBEZXRhaWxzIHBhZ2UuIFlvdSBjYW4gdmlldyBleGFtcGxlIFByb2R1Y3QgVmlldyB0YWdzIGJlbG93LlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX3Byb2R2aWV3dGFnLmh0bWxcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNhc2UgJ2NtQ3JlYXRlUHJvZHVjdHZpZXdUYWcnOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgY21DcmVhdGVQcm9kdWN0dmlld1RhZyA9IHdpbmRvd1snY21DcmVhdGVQcm9kdWN0dmlld1RhZyddO1xyXG4gICAgICAgICAgICAgICAgY21DcmVhdGVQcm9kdWN0dmlld1RhZyhcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnByb2R1Y3RJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnByb2R1Y3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuY2F0ZWdvcnlJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmF0dHJidXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudmlydHVhbENhdGVnb3J5XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgU2hvcCBBY3Rpb24gNSB0YWcgY2FwdHVyZXMgZGF0YSBhYm91dCBzZWxlY3RlZCBwcm9kdWN0cyBhbmQgd2hpY2ggcHJvZHVjdHMgYXJlIHByZXNlbnQgaW4gYSBzaG9wcGluZyBjYXJ0LFxyXG4gICAgICAgICAgICAgKiAgaWYgYW55LCB3aGVuIHRoZSBjYXJ0IGlzIHZpZXdlZC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGxpbmsgaHR0cHM6Ly93d3cuaWJtLmNvbS9zdXBwb3J0L2tub3dsZWRnZWNlbnRlci9TU1BHOU0vSW1wbGVtZW50YXRpb24vaW1wbF9zaG9wYWN0NXRhZy5odG1sXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjYXNlICdjbUNyZWF0ZVNob3BBY3Rpb241VGFnJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNtQ3JlYXRlU2hvcEFjdGlvbjVUYWcgPSB3aW5kb3dbJ2NtQ3JlYXRlU2hvcEFjdGlvbjVUYWcnXTtcclxuICAgICAgICAgICAgICAgIGNtQ3JlYXRlU2hvcEFjdGlvbjVUYWcoXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wcm9kdWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wcm9kdWN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnF1YW50aXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudW5pdFByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuY2F0ZWdvcnlJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmF0dHJidXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZXh0cmFGaWVsZHMsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy52aXJ0dWFsQ2F0ZWdvcnlcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgY21EaXNwbGF5U2hvcHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gVGhlIFNob3AgQWN0aW9uIDkgdGFnIGNhcHR1cmVzIGRhdGEgYWJvdXQgd2hhdCBwcm9kdWN0cyB3ZXJlIHB1cmNoYXNlZCBieSBhIGN1c3RvbWVyLlxyXG4gICAgICAgICAgICAgKiAgTGlrZSB0aGUgU2hvcCBBY3Rpb24gNSB0YWcsIG9uZSB0YWcgc2hvdWxkIGJlIHNlbnQgZm9yIGVhY2ggcHJvZHVjdCBsaW5lIGl0ZW0gcHVyY2hhc2VkLiBUaGVzZSB0YWdzIHNob3VsZCBiZSBzZW50XHJcbiAgICAgICAgICAgICAqICBvbiB0aGUgcmVjZWlwdCBvciBvdGhlciBjb21wbGV0aW9uIHBhZ2UgY29uZmlybWluZyBhIHN1Y2Nlc3NmdWwgb3JkZXIuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBsaW5rIGh0dHBzOi8vd3d3LmlibS5jb20vc3VwcG9ydC9rbm93bGVkZ2VjZW50ZXIvU1NQRzlNL0ltcGxlbWVudGF0aW9uL2ltcGxfc2hvcGFjdDl0YWcuaHRtbFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2FzZSAnY21DcmVhdGVTaG9wQWN0aW9uOVRhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZVNob3BBY3Rpb245VGFnID0gd2luZG93WydjbUNyZWF0ZVNob3BBY3Rpb245VGFnJ107XHJcbiAgICAgICAgICAgICAgICBjbUNyZWF0ZVNob3BBY3Rpb245VGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHJvZHVjdElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHJvZHVjdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5xdWFudGl0eSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnVuaXRQcmljZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMub3JkZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm9yZGVyU3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5jYXRlZ29yeUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYXR0cmJ1dGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5leHRyYUZpZWxkc1xyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjbURpc3BsYXlTaG9wcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgT3JkZXIgdGFnIGNhcHR1cmVzIG9yZGVyIGhlYWRlciBpbmZvcm1hdGlvbiBzdWNoIGFzIFJlZ2lzdHJhdGlvbiBJRCwgb3JkZXIgSUQsIG9yZGVyIHN1YnRvdGFsLFxyXG4gICAgICAgICAgICAgKiAgYW5kIHNoaXBwaW5nIGFuZCBoYW5kbGluZy4gVGhlIE9yZGVyIHRhZyBzaG91bGQgYmUgc2VudCBvbiB0aGUgcmVjZWlwdCBwYWdlIGNvbmZpcm1pbmcgb3JkZXIgY29tcGxldGlvbi5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGxpbmsgaHR0cHM6Ly93d3cuaWJtLmNvbS9zdXBwb3J0L2tub3dsZWRnZWNlbnRlci9TU1BHOU0vSW1wbGVtZW50YXRpb24vaW1wbF9vcmRlcnRhZy5odG1sXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjYXNlICdjbUNyZWF0ZU9yZGVyVGFnJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNtQ3JlYXRlT3JkZXJUYWcgPSB3aW5kb3dbJ2NtQ3JlYXRlT3JkZXJUYWcnXTtcclxuICAgICAgICAgICAgICAgIGNtQ3JlYXRlT3JkZXJUYWcoXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5vcmRlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMub3JkZXJTdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm9yZGVyU2hpcHBpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYXRpb25JZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhbnRDaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmFudFN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmFudFBvc3RhbENvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5hdHRyYnV0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmV4dHJhRmllbGRzXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgUmVnaXN0cmF0aW9uIHRhZyBjcmVhdGVzIGEgTGlmZXRpbWUgVmlzaXRvciBFeHBlcmllbmNlIFByb2ZpbGUgKExJVkUgUHJvZmlsZSkgYnkgYXNzb2NpYXRpbmcgYSBzaW5nbGVcclxuICAgICAgICAgICAgICogIGNvbW1vbiBSZWdpc3RyYXRpb24gSUQgd2l0aCB0aGUgSUJNw4LCriBEaWdpdGFsIEFuYWx5dGljcyBwZXJtYW5lbnQgY29va2llIHNldCBpbiBldmVyeSBicm93c2VyIHZpc2l0aW5nIHRoZSB0YWdnZWQgc2l0ZS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGxpbmsgaHR0cHM6Ly93d3cuaWJtLmNvbS9zdXBwb3J0L2tub3dsZWRnZWNlbnRlci9TU1BHOU0vSW1wbGVtZW50YXRpb24vaW1wbF9yZWdpc3RyYXRpb250YWcuaHRtbFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2FzZSAnY21DcmVhdGVSZWdpc3RyYXRpb25UYWcnOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgY21DcmVhdGVSZWdpc3RyYXRpb25UYWcgPSB3aW5kb3dbJ2NtQ3JlYXRlUmVnaXN0cmF0aW9uVGFnJ107XHJcbiAgICAgICAgICAgICAgICBjbUNyZWF0ZVJlZ2lzdHJhdGlvblRhZyhcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmFudEVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVnaXN0cmFudENpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYW50U3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZWdpc3RyYW50UG9zdGFsQ29kZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlZ2lzdHJhbnRDb3VudHJ5LFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYXR0cmJ1dGVcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBFbGVtZW50IHRhZyBpcyB1c2VkIHRvIHRyYWNrIGludHJhLXBhZ2UgY29udGVudCBpbiBJQk3DgsKuIERpZ2l0YWwgQW5hbHl0aWNzLiBEYXRhIGNvbGxlY3RlZCBieVxyXG4gICAgICAgICAgICAgKiAgdGhlIEVsZW1lbnQgdGFnIGlzIHVzZWQgdG8gcG9wdWxhdGUgdmFsdWVzIGluIHRoZSBFbGVtZW50IENhdGVnb3JpZXMgYW5kIFRvcCBWaWV3ZWQgRWxlbWVudHMgcmVwb3J0cy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGxpbmsgaHR0cHM6Ly93d3cuaWJtLmNvbS9zdXBwb3J0L2tub3dsZWRnZWNlbnRlci9TU1BHOU0vSW1wbGVtZW50YXRpb24vaW1wbF9lbGVtZW50dGFnLmh0bWxcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNhc2UgJ2NtQ3JlYXRlRWxlbWVudFRhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZUVsZW1lbnRUYWcgPSB3aW5kb3dbJ2NtQ3JlYXRlRWxlbWVudFRhZyddO1xyXG4gICAgICAgICAgICAgICAgY21DcmVhdGVFbGVtZW50VGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZWxlbWVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZWxlbWVudENhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYXR0cmJ1dGVcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBDb252ZXJzaW9uIEV2ZW50IHRhZyBpcyBlbXBsb3llZCBmb3IgdHJhY2tpbmcgb2YgZ2VuZXJhbCBub24tY29tbWVyY2UgY29udmVyc2lvbiBldmVudHMuXHJcbiAgICAgICAgICAgICAqIFRoZSBDb252ZXJzaW9uIEV2ZW50IHRhZyBpcyB1c2VkIHRvIHBvcHVsYXRlIHZhbHVlcyBpbiB0aGUgQ29udmVyc2lvbiBFdmVudHMgUmVwb3J0cyBhbmQgdG8gY3JlYXRlIEtleSBTZWdtZW50cy5cclxuICAgICAgICAgICAgICogVGhpcyB0YWcgYW5kIHRoZSByZXBvcnRzIGl0IHBvcHVsYXRlcyBlbmFibGUgYW5hbHlzaXMgb2YgYSB3aWRlIHZhcmlldHkgb2Ygc2l0ZSBhY3Rpdml0aWVzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAbGluayBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL1NTUEc5TS9JbXBsZW1lbnRhdGlvbi9pbXBsX2NvbnZlcnNpb25ldmVudHRhZy5odG1sXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjYXNlICdjbUNyZWF0ZUNvbnZlcnNpb25FdmVudFRhZyc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbUNyZWF0ZUNvbnZlcnNpb25FdmVudFRhZyA9IHdpbmRvd1snY21DcmVhdGVDb252ZXJzaW9uRXZlbnRUYWcnXTtcclxuICAgICAgICAgICAgICAgIGNtQ3JlYXRlQ29udmVyc2lvbkV2ZW50VGFnKFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZXZlbnRJZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmFjdGlvblR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5ldmVudENhdGVnb3J5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wb2ludHMsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5hdHRyYnV0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmV4dHJhRmllbGRzXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgRXZlbnQgQWN0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJhbmd1bGFydGljczIiLCJJbmpl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