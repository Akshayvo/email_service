(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('angulartics2')) :
    typeof define === 'function' && define.amd ? define('angulartics2/facebook', ['exports', '@angular/core', 'angulartics2'], factory) :
    (factory((global.angulartics2 = global.angulartics2 || {}, global.angulartics2.facebook = {}),global.ng.core,global.angulartics2));
}(this, (function (exports,core,angulartics2) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ facebookEventList = [
        'ViewContent',
        'Search',
        'AddToCart',
        'AddToWishlist',
        'InitiateCheckout',
        'AddPaymentInfo',
        'Purchase',
        'Lead',
        'CompleteRegistration',
    ];
    var Angulartics2Facebook = (function () {
        function Angulartics2Facebook(angulartics2$$1) {
            var _this = this;
            this.angulartics2 = angulartics2$$1;
            this.angulartics2.eventTrack
                .pipe(this.angulartics2.filterDeveloperMode())
                .subscribe(function (x) { return _this.eventTrack(x.action, x.properties); });
        }
        /**
         * Send interactions to the Pixel, i.e. for event tracking in Pixel
         *
         * @param action action associated with the event
         */
        /**
         * Send interactions to the Pixel, i.e. for event tracking in Pixel
         *
         * @param {?} action action associated with the event
         * @param {?=} properties
         * @return {?}
         */
        Angulartics2Facebook.prototype.eventTrack = /**
         * Send interactions to the Pixel, i.e. for event tracking in Pixel
         *
         * @param {?} action action associated with the event
         * @param {?=} properties
         * @return {?}
         */
            function (action, properties) {
                if (properties === void 0) {
                    properties = {};
                }
                if (typeof fbq === 'undefined') {
                    return;
                }
                if (facebookEventList.indexOf(action) === -1) {
                    return fbq('trackCustom', action, properties);
                }
                return fbq('track', action, properties);
            };
        Angulartics2Facebook.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        Angulartics2Facebook.ctorParameters = function () {
            return [
                { type: angulartics2.Angulartics2 }
            ];
        };
        return Angulartics2Facebook;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.Angulartics2Facebook = Angulartics2Facebook;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcnRpY3MyLWZhY2Vib29rLnVtZC5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vYW5ndWxhcnRpY3MyL2ZhY2Vib29rL2ZhY2Vib29rLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgQW5ndWxhcnRpY3MyIH0gZnJvbSAnYW5ndWxhcnRpY3MyJztcblxuZGVjbGFyZSBjb25zdCBmYnE6IGZhY2Vib29rLlBpeGVsLkV2ZW50O1xuXG5jb25zdCBmYWNlYm9va0V2ZW50TGlzdCA9IFtcbiAgJ1ZpZXdDb250ZW50JyxcbiAgJ1NlYXJjaCcsXG4gICdBZGRUb0NhcnQnLFxuICAnQWRkVG9XaXNobGlzdCcsXG4gICdJbml0aWF0ZUNoZWNrb3V0JyxcbiAgJ0FkZFBheW1lbnRJbmZvJyxcbiAgJ1B1cmNoYXNlJyxcbiAgJ0xlYWQnLFxuICAnQ29tcGxldGVSZWdpc3RyYXRpb24nLFxuXTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJ0aWNzMkZhY2Vib29rIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBhbmd1bGFydGljczI6IEFuZ3VsYXJ0aWNzMikge1xuICAgIHRoaXMuYW5ndWxhcnRpY3MyLmV2ZW50VHJhY2tcbiAgICAgIC5waXBlKHRoaXMuYW5ndWxhcnRpY3MyLmZpbHRlckRldmVsb3Blck1vZGUoKSlcbiAgICAgIC5zdWJzY3JpYmUoeCA9PiB0aGlzLmV2ZW50VHJhY2soeC5hY3Rpb24sIHgucHJvcGVydGllcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgaW50ZXJhY3Rpb25zIHRvIHRoZSBQaXhlbCwgaS5lLiBmb3IgZXZlbnQgdHJhY2tpbmcgaW4gUGl4ZWxcbiAgICpcbiAgICogQHBhcmFtIGFjdGlvbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBldmVudFxuICAgKi9cbiAgZXZlbnRUcmFjayhhY3Rpb246IHN0cmluZywgcHJvcGVydGllczogYW55ID0ge30pIHtcbiAgICBpZiAodHlwZW9mIGZicSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZhY2Vib29rRXZlbnRMaXN0LmluZGV4T2YoYWN0aW9uKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBmYnEoJ3RyYWNrQ3VzdG9tJywgYWN0aW9uLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIGZicSgndHJhY2snLCBhY3Rpb24sIHByb3BlcnRpZXMpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiYW5ndWxhcnRpY3MyIiwiSW5qZWN0YWJsZSIsIkFuZ3VsYXJ0aWNzMiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBTUEscUJBQU0saUJBQWlCLEdBQUc7UUFDeEIsYUFBYTtRQUNiLFFBQVE7UUFDUixXQUFXO1FBQ1gsZUFBZTtRQUNmLGtCQUFrQjtRQUNsQixnQkFBZ0I7UUFDaEIsVUFBVTtRQUNWLE1BQU07UUFDTixzQkFBc0I7S0FDdkIsQ0FBQzs7UUFJQSw4QkFBb0JBLGVBQTBCO1lBQTlDLGlCQUlDO1lBSm1CLGlCQUFZLEdBQVpBLGVBQVksQ0FBYztZQUM1QyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVU7aUJBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixFQUFFLENBQUM7aUJBQzdDLFNBQVMsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLEdBQUEsQ0FBQyxDQUFDO1NBQzVEOzs7Ozs7Ozs7Ozs7O1FBT0QseUNBQVU7Ozs7Ozs7WUFBVixVQUFXLE1BQWMsRUFBRSxVQUFvQjtnQkFBcEIsMkJBQUE7b0JBQUEsZUFBb0I7O2dCQUM3QyxJQUFJLE9BQU8sR0FBRyxLQUFLLFdBQVcsRUFBRTtvQkFDOUIsT0FBTztpQkFDUjtnQkFDRCxJQUFJLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtvQkFDNUMsT0FBTyxHQUFHLENBQUMsYUFBYSxFQUFFLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztpQkFDL0M7Z0JBQ0QsT0FBTyxHQUFHLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQzthQUN6Qzs7b0JBckJGQyxlQUFVOzs7Ozt3QkFoQkZDLHlCQUFZOzs7bUNBRnJCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7In0=